# HTTP 개요(1)

## 무엇을 알았는지

HTTP는 HTML 문서와 같은 리소스를 가져올 수 있도록하는 [프로토콜](https://developer.mozilla.org/ko/docs/Glossary/Protocol)이다. 웹에서 이루어지는 모든 데이터의 교환 기초이고 클라이언트-서버 프로토콜이기도하다. 하나의 완전한 문서는 텍스트, 레이아웃 설명, 이미지, 비디오, 스크립트 등 패칭해온 하위 문서로 재구성된다.

![](https://mdn.github.io/shared-assets/images/diagrams/http/overview/fetching-a-page.svg)

클라이언트와 서버들은 (데이터 스트림과는 별개) 개별적인 메세지 교환에 의해 통신한다. 보통 클라이언트(브라우저)에서 전송되는 메세지 요청(request)라하고, 서버에서 응답으로 전송되는 메세지 응답(response)라고 한다.

![](https://mdn.github.io/shared-assets/images/diagrams/http/overview/http-layers.svg)

1990년대 초에 설계된 HTTP는 확장 가능한 프로토콜이다. 애플리케이션 계층의 프로토콜로 신뢰 가능한 전송 포로토콜이라면 이론상 무엇이든 사용 가능하다. TCP 또는 TLS를 통해 전송된다. 이 덕분에 오늘날 하이퍼 텍스트 문서 뿐만 아니라 이미지, 비디오, HTML 폼과 같은 내용을 서버로 POST가 가능해졌다.

### HTTP 기반 시스템 구성 요소

각각 개별적인 요청은 서버로 보내져 요청을 처리하고 응답을 제공한다. 응답 사이에는 여러 개체들이 존재하고 이 개체들은 다양한 작업을 수행하는 역할을 한다

예) 게이트웨이, [캐시](https://developer.mozilla.org/ko/docs/Glossary/Cache), [프록시](https://developer.mozilla.org/ko/docs/Glossary/Proxy_server) 등

![](https://mdn.github.io/shared-assets/images/diagrams/http/overview/client-server-chain.svg)

클라이언트와 요청하는 서버 사이에는 더 많은 컴퓨터가 존재할 수 있다. 라우터, 모뎀 등 웹의 계층 구조 덕분에 `네트워크`와 `전송 계층` 내로 숨겨진다. HTTP는 애플리케이션 계층의 최상위에 있다. 네트워크 문제를 진단하는 것도 중요하지만, 기본 레이어들은 HTTP의 명세와는 거의 관련이 없다.

### HTTP의 기초 측면

- `간결하다`: HTTP/2가 다소 복잡해졌지만 여전히 **HTTP 메세지를 프레임별로 캡슐화하여 간결함을 유지**했다.
- `확장가능하다`: HTTP/1.0에서 소개된 HTTP 헤더는 HTTP를 확장하고 실험하기 쉽게 만들었다. 클라이언트와 서버가 **새로운 헤더의 시멘틱에 대해 협의만하면 언제든 새로운 기능을 추가**할 수 있다.
- `Stateless하지만 session은 존재`: 상태를 저장하지 않지만 상호작용을 위해 쿠키와 같이 **'상태가 있는 것 같은 `세션`**'이 있다. 헤더 확장성을 사용하여 동일한 컨텍스트나 동일 상태를 공유하기 위해 각 요청들에 의해 세션을 만들도록 HTTP 쿠키가 추가 되었다.
- `연결`: `연결`은 전송 계층에서 제어되므로 근본적으로 HTTP 영역 밖이다. 일반적으로 TCP는 신뢰할 수 있고 UDP는 그렇지 않는데, 따라서 HTTP는 연결이 필수는 아니지만 연결 기반인 TCP 표준에 의존한다.

### HTTP 제어 항목

- `캐시`: HTTP로 문서가 캐시되는 방식을 제어할 수 있다. 서버는 캐시 대상과 기간을 프록시와 클라이언트에 지시할 수 있고 클라이언트는 저장된 문서를 무시하라고 중간 캐시 프록시에게 지시할 수 있다.
- `"origin" 제약 사항 완화`: _스누핑과 다른 프라이버시 침해를 막기 위해_, 브라우저는 웹 사이트 간의 엄격한 분리를 강제한다. **동일한 `origin`으로부터 온 페이지만이 웹 페이지의 전체 정보에 접근할 수 있다.** 그런 제약 사항은 서버에 부담이 되지만, HTTP 헤더를 통해 그것을 완화시킬 수 있다. 그런 덕분에 문서는 다른 도메인으로부터 전달된 정보를 패치워크할 수 있다(그렇게 하려면 어떤 경우에 보안과 관련된 사항이 있을 수도 있다).
- 인증:어떤 페이지들은 보호되어 오로지 **특정 사용자**만이 그것에 접근할 수도 있다. 기본 인증은 HTTP를 통해 `WWW-Authenticate` 또는 유사한 헤더를 사용해 제공되거나, `HTTP 쿠키`를 사용해 특정 `세션`을 설정하여 이루어질 수도 있다.
- `프록시와 터널링`: 서버 혹은 클라이언트 혹은 그 둘 모두는 종종 실제 주소를 숨기기도 한다. HTTP 요청은 네트워크 장벽을 가로지르기 위해 프록시를 통해 나가게 된다. 모든 프록시가 HTTP 프록시는 아니다. 예를 들면 SOCKS 프로토콜은 좀 더 저수준에서 동작한다. FTP와 같은 다른 프로토콜도 이 프록시를 통해 처리될 수 있다.
- `세션`: 쿠키 사용은 서버 상태를 요청과 연결하도록 해준다. 이것은 HTTP가 기본적으로 상태없는 프로토콜임에도 세션을 만들어주는 계기가 된다. 이것은 e-커머스 쇼핑 바구니를 위해서 유용할 뿐만 아니라 사용자 구성을 허용하는 모든 사이트에 대해서 유용하다.

### 출처

- [HTTP](https://developer.mozilla.org/en-US/docs/Web/HTTP/Overview)
